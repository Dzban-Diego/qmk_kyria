#include QMK_KEYBOARD_H
#include <stdio.h>
char wpm_str[10];

/* THIS FILE WAS GENERATED!
 *
 * This file was generated by qmk json2c. You may or may not want to
 * edit it directly.
 */

#define _COL 0
#define _SYS_NAV 1
#define _MED 2
#define _NAV 3
#define _NUM 4
#define _SPEC 5

// Tap Dance declarations
enum {
    TD_A,
    TD_E,
    TD_O,
    TD_S,
    TD_L,
    TD_Z,
    TD_C,
    TD_N,
    TD_P1,
    TD_P2,
    TD_P3,
};

// Tap Dance definitions
qk_tap_dance_action_t tap_dance_actions[] = {
    // Tap once for Escape, twice for Caps Lock
    [TD_A] = ACTION_TAP_DANCE_DOUBLE(KC_A, RALT(KC_A)),
    [TD_E] = ACTION_TAP_DANCE_DOUBLE(KC_E, RALT(KC_E)),
    [TD_O] = ACTION_TAP_DANCE_DOUBLE(KC_O, RALT(KC_O)),
    [TD_S] = ACTION_TAP_DANCE_DOUBLE(KC_S, RALT(KC_S)),
    [TD_L] = ACTION_TAP_DANCE_DOUBLE(KC_L, RALT(KC_L)),
    [TD_Z] = ACTION_TAP_DANCE_DOUBLE(KC_Z, RALT(KC_Z)),
    [TD_C] = ACTION_TAP_DANCE_DOUBLE(KC_C, RALT(KC_C)),
    [TD_N] = ACTION_TAP_DANCE_DOUBLE(KC_N, RALT(KC_N)),


    [TD_P1] = ACTION_TAP_DANCE_DOUBLE(KC_LPRN, KC_RPRN),
    [TD_P2] = ACTION_TAP_DANCE_DOUBLE(KC_LCBR, KC_RCBR),
    [TD_P3] = ACTION_TAP_DANCE_DOUBLE(KC_LBRC, KC_RBRC),
};

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
	[_COL] = LAYOUT(
	    KC_ESC,           KC_Q,   KC_W,   KC_F,    KC_P,   KC_B,                                                   KC_J,  TD(TD_L),   KC_U,   KC_Y,       KC_SCLN,    KC_DEL,
	    KC_TAB,           TD(TD_A),   KC_R,   TD(TD_S),    KC_T,   KC_G,                                                   KC_M,  TD(TD_N),   TD(TD_E),   KC_I,       TD(TD_O),       KC_BSPC,
	    OSM(MOD_LSFT),    KC_X,   TD(TD_C),   KC_D,    TD(TD_Z),   KC_V,   KC_ESC,     TG(1),   /**/ MO(4),    TG(3),      KC_K,  KC_H,   KC_COMM,KC_DOT,     KC_SLSH,    KC_ENT,
	                       OSM(MOD_LALT),  OSM(MOD_LSFT),  KC_LGUI,  MO(1),    KC_LCTL, /**/ TG(4),    MO(3),  RALT_T(KC_SPC),     MO(5),      MO(2)),

	[_SYS_NAV] = LAYOUT(
	    KC_TRNS,    SGUI(KC_1), SGUI(KC_2), SGUI(KC_3), SGUI(KC_4), SGUI(KC_5),                                     KC_PGUP, KC_HOME, KC_UP,    KC_END,     LGUI(KC_PGUP), KC_DEL,
	    TG(7),      RGUI(KC_1), RGUI(KC_2), RGUI(KC_3), RGUI(KC_4), RGUI(KC_5),                                     KC_PGDN, KC_HASH, KC_EQUAL, KC_RIGHT_ANGLE_BRACKET,KC_MINUS, KC_BSPC,
	    KC_NO,      KC_LGUI,    KC_LSFT,    KC_LCTL,    KC_LALT,    KC_NO,      KC_TRNS, KC_TRNS,   KC_TRNS, KC_NO, KC_NO,   MO(2),   MO(3),    MO(4),      KC_LSFT,        KC_F12,
	                                                        TG(0), KC_NO, KC_NO, KC_TRNS, KC_TRNS,  KC_NO, KC_TRNS, KC_NO, KC_NO, KC_NO),


	[_MED] = LAYOUT(
	    KC_NO, KC_NO, KC_BTN1, KC_MS_U, KC_BTN2, KC_WH_U, KC_NO, KC_NO, KC_NO, KC_NO, KC_NO, KC_NO,
	    KC_NO, KC_NO, KC_MS_L, KC_MS_D, KC_MS_R, KC_WH_D, SGUI(KC_PGUP), KC_MUTE, KC_VOLD, KC_VOLU, KC_BRIU, KC_NO,
	    KC_NO, KC_NO, KC_NO, KC_NO, KC_NO, KC_NO, KC_NO, KC_NO, KC_NO, KC_NO, SGUI(KC_PGDN), KC_TRNS,KC_TRNS, KC_TRNS, KC_BRID, KC_PSCR,
	    KC_NO, KC_NO, KC_NO, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_TRNS, KC_NO, KC_TRNS),
	[_NAV] = LAYOUT(KC_ESC, LALT(KC_TAB), LCTL(KC_X), LCTL(KC_C), LCTL(KC_V), LALT(KC_ENT), KC_PGUP, KC_HOME, KC_UP, KC_END, KC_NO, KC_DEL, KC_TAB, KC_LGUI, KC_LALT, KC_LSFT, KC_LCTL, KC_APP, KC_PGDN, KC_LEFT, KC_DOWN, KC_RGHT, LCTL(KC_SLSH), KC_BSPC, TG(0), KC_F12, KC_WREF, KC_WBAK, KC_WFWD, LCA(KC_B), TG(0), KC_NO, KC_NO, KC_TRNS, LCTL(KC_B), LCTL(KC_H), KC_TRNS, MO(10), LCTL(KC_DOT), KC_ENT, KC_NO, KC_NO, KC_NO, MO(1), KC_NO, KC_NO, KC_TRNS, KC_TRNS, KC_NO, KC_NO),
	[_NUM] = LAYOUT(
	    KC_ESC, KC_NO, KC_NO, KC_NO, KC_NO, KC_NO,                                                  KC_NO, KC_7, KC_8, KC_9, KC_NO, KC_DEL,
	    KC_TAB, KC_PPLS, KC_PAST, KC_PMNS, KC_PSLS, KC_NO,                                          KC_0, KC_4, KC_5, KC_6, KC_NO, KC_BSPC,
	    KC_NO, KC_NO, KC_PCMM, KC_PDOT, KC_PEQL, KC_NO, KC_NO, KC_TRNS,             KC_NO, KC_NO, KC_NO, KC_1, KC_2, KC_3, KC_NO, KC_ENT,
	                                        KC_NO, KC_NO, KC_NO, KC_NO, KC_NO, KC_TRNS, MO(3), KC_SPC, KC_0, KC_PDOT),


	[_SPEC] = LAYOUT(
	    KC_GRV, KC_1, KC_2, KC_3, KC_4, KC_5,                                                       KC_6, KC_7, KC_8, KC_9, KC_0, KC_PSCR,
	    KC_SLSH, KC_BSLS, KC_COLN, KC_LT, KC_GT, KC_NO,                                             LSFT(KC_8), TD(TD_P1), TD(TD_P2), TD(TD_P3), KC_MINS, KC_BSPC,
	    KC_LSFT, KC_NO, KC_QUOT, KC_DQUO, LSFT(KC_BSLS), KC_AMPR, TG(0), KC_NO,         KC_NO, KC_NO, LSFT(KC_2), KC_RPRN, KC_RCBR, KC_RBRC, KC_EQL, KC_ENT,
	                                    KC_NO, KC_NO, KC_LALT, KC_NO, KC_NO, KC_NO, KC_TRNS, KC_TRNS, KC_NO, KC_NO)
};


/**
    encoder func
 */
bool encoder_update_user(uint8_t index, bool clockwise) {
     switch (get_highest_layer(layer_state)) {
         case _MED:
            if (clockwise) {
                tap_code16(KC_UP);
            }else{
                tap_code16(KC_DOWN);
            }
            break;
         case _NAV:
            if (clockwise) {
                tap_code16(KC_RIGHT);
            }else{
                tap_code16(KC_LEFT);
            }
            break;
         case _NUM:
             if (clockwise) {
                 tap_code16(LCTL(KC_RIGHT));
             }else{
                 tap_code16(LCTL(KC_LEFT));
             }
             break;
         case _SPEC:
             oled_write_P(PSTR("Specjalny jesteś \n"), false);
             break;
         default:
            if (clockwise) {
                tap_code16(KC_UP);
                tap_code16(KC_UP);
                tap_code16(KC_UP);
                tap_code16(KC_UP);
                tap_code16(KC_UP);
            }else{
                tap_code16(KC_DOWN);
                tap_code16(KC_DOWN);
                tap_code16(KC_DOWN);
                tap_code16(KC_DOWN);
                tap_code16(KC_DOWN);
            }
     }
  return false;
}

// logo to second side
static void render_logo(void) {
  static const char PROGMEM my_logo[] = {
    // Paste the code from the previous step below this line!
    // 'rocket', 128x64px
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x0c, 0xfc, 0x04, 0x04, 0x04, 0x84, 0x44, 0x6c, 0x28, 0x28, 0x38, 0x30, 0x30,
    0x20, 0x60, 0xc0, 0x80, 0x80, 0x80, 0xc0, 0xc0, 0xc0, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60,
    0x60, 0x60, 0xe0, 0xe0, 0xe0, 0xc0, 0xc0, 0xc0, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x01, 0x0f, 0x38, 0x7f, 0x81, 0x00, 0x3c, 0x66, 0xc3, 0x81, 0x81, 0xc3,
    0x66, 0x3c, 0x00, 0x00, 0x01, 0x03, 0x05, 0x08, 0x30, 0x60, 0xc0, 0x80, 0x00, 0x1e, 0x7f, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0xfe, 0xfc, 0xf8, 0xf0,
    0xc0, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0xf6, 0xfc, 0x18, 0x30, 0x20, 0x40,
    0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x0e, 0x1a, 0x32,
    0x63, 0xf3, 0x13, 0x13, 0x1b, 0x0f, 0x0f, 0x0f, 0x0f, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x07,
    0x07, 0x07, 0x3e, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x01, 0x03, 0xfe, 0x04, 0x08, 0x98, 0xf0, 0x60, 0xc0, 0xc0, 0x60, 0x30, 0x18, 0x0c, 0xfe,
    0xff, 0xf5, 0xf8, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0xe0, 0x3f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x1f, 0x38, 0xf0, 0xc0,
    0x80, 0x00, 0x00, 0x07, 0x3c, 0x3c, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0xc0, 0xcf,
    0xff, 0xff, 0xff, 0xff, 0xfc, 0xf0, 0xe0, 0xe0, 0xc0, 0xc0, 0xc0, 0x80, 0x80, 0x00, 0x40, 0x30,
    0x18, 0x06, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0x03, 0x07, 0x06, 0x0c, 0x18, 0x18, 0x30, 0x30, 0x60, 0x60, 0x60, 0x60, 0x40, 0x43, 0xc3, 0xc7,
    0xc7, 0x4f, 0x4f, 0x7f, 0x7f, 0x7f, 0x3f, 0x3f, 0x7f, 0x7f, 0xff, 0xff, 0x3f, 0x07, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
  };

  oled_write_raw_P(my_logo, sizeof(my_logo));
}

#ifdef OLED_ENABLE
bool oled_task_user(void) {
    // master side
    if (is_keyboard_master()) {
        // Host Keyboard Layer Status
        oled_write_P(PSTR("Najlepsza klawka \n"), false);
        oled_write_P(PSTR(" \n"), false);
        oled_write_P(PSTR("Warstwa: "), false);

        switch (get_highest_layer(layer_state)) {
            case _COL:
                oled_write_P(PSTR("Colemak_dh \n"), false);
                break;
            case _SYS_NAV:
                oled_write_P(PSTR("Navigacja systemu \n"), false);
                break;
            case _MED:
                oled_write_P(PSTR("Media \n"), false);
                break;
            case _NAV:
                oled_write_P(PSTR("Navigacja \n"), false);
                break;
            case _NUM:
                oled_write_P(PSTR("123451242 \n"), false);
                break;
            case _SPEC:
                oled_write_P(PSTR("Specjalny jesteś \n"), false);
                break;
            default:
                // Or use the write_ln shortcut over adding '\n' to the end of your string
                oled_write_ln_P(PSTR("Teraz to coś popsułeś"), false);
        }

        // Host Keyboard LED Status
        led_t led_state = host_keyboard_led_state();
        oled_write_P(led_state.num_lock ? PSTR("NUM ") : PSTR("    "), false);
        oled_write_P(led_state.caps_lock ? PSTR("CAP ") : PSTR("    "), false);
        oled_write_P(led_state.scroll_lock ? PSTR("SCR ") : PSTR("    "), false);
        oled_write_P(PSTR("\n"), false);
        oled_write_P(PSTR("Dzban_Diego \n"), false);
        return false;
    // second side
    }else{
        render_logo();
        return false;
    }

}
#endif
